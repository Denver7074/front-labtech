<mat-sidenav-container class="sidenav-container">
  <mat-sidenav class="mainnav" mode="side" #mainnav opened>
    <div class="sidebar-logo">
      <div class="logo-badge">
        <img src="/logo.jpg" alt="Lab.Tech Logo" class="logo-image"/>
      </div>
      <div class="logo-text-container">
        <h1 class="logo-text">Lab.Tech</h1>
        <p class="logo-subtitle">Лабораторный менеджмент</p>
      </div>
    </div>

    <!-- Navigation Section -->
    <div class="sidebar-content">
      <div class="nav-section">
        <p class="nav-section-title">Main</p>
        <mat-nav-list role="list" class="nav-list">

          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">assignment</mat-icon>
            <a matListItemTitle routerLink="/tests" class="nav-link">Tests</a>
          </mat-list-item>
          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">groups</mat-icon>
            <a matListItemTitle routerLink="/" class="nav-link">Patients</a>
          </mat-list-item>
          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">dashboard</mat-icon>
            <a matListItemTitle routerLink="" class="nav-link">Dashboard</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <div class="nav-section">
        <p class="nav-section-title">Ресурсы</p>
        <mat-nav-list role="list" class="nav-list">
          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">people</mat-icon>
            <a matListItemTitle routerLink="organizations/department/{{ this.id() }}/staff" class="nav-link">Персонал</a>
          </mat-list-item>

          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">home</mat-icon>
            <a
              matListItemTitle
              [routerLink]="id() ? ['/organizations/department', id(), 'inventory'] : []"
              [class.disabled]="!id()"
              class="nav-link"
            >Помещения</a>
          </mat-list-item>

          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">balance</mat-icon>
            <a
              matListItemTitle
              [routerLink]="id() ? ['/organizations/department', id(), 'equipment'] : []"
              [class.disabled]="!id()"
              class="nav-link"
            >Оборудование</a>
          </mat-list-item>
        </mat-nav-list>
      </div>

      <div class="nav-section">
        <p class="nav-section-title">Reports</p>
        <mat-nav-list role="list" class="nav-list">
          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">analytics</mat-icon>
            <a matListItemTitle routerLink="/analytics" class="nav-link">Analytics</a>
          </mat-list-item>
          <mat-list-item class="nav-item" routerLinkActive="active">
            <mat-icon matListItemIcon class="nav-icon">description</mat-icon>
            <a matListItemTitle routerLink="/reports" class="nav-link">Reports</a>
          </mat-list-item>
        </mat-nav-list>
      </div>
    </div>
  </mat-sidenav>

  <!-- Основной контент -->
  <mat-sidenav-content>
    <mat-toolbar color="accent">
      <button mat-mini-fab (click)="mainnav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="spacer"></span>

      <button mat-icon-button (click)="themeService.toggleTheme()" aria-label="Переключить тему">
        <mat-icon>{{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
      </button>

      <button mat-icon-button aria-label="Уведомления">
        <mat-icon>notifications</mat-icon>
      </button>

      <button mat-icon-button [matMenuTriggerFor]="userMenu" aria-label="Меню пользователя">
        <mat-icon>account_circle</mat-icon>
      </button>

      <mat-menu #userMenu="matMenu" xPosition="before">
        <div mat-menu-item class="user-info-header" disabled>
          {{ userName() }}
        </div>

        <button mat-menu-item [routerLink]="profileRoute()">
          <mat-icon>person</mat-icon>
          <span>Профиль</span>
        </button>
        <button mat-menu-item routerLink="/settings">
          <mat-icon>settings</mat-icon>
          <span>Настройки</span>
        </button>
        <button mat-menu-item (click)="onLogout()">
          <mat-icon>logout</mat-icon>
          <span>Выйти</span>
        </button>
      </mat-menu>
    </mat-toolbar>
    <div class="main-content section-content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>

</mat-sidenav-container>
