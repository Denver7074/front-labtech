<!-- Загрузка -->
@if (isLoading()) {
  <div class="loading-spinner">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Загрузка профиля...</p>
  </div>
}

<!-- Ошибка -->
@if (errorMessage() && !isLoading()) {
  <mat-error class="error-message">{{ errorMessage() }}</mat-error>
}

<!-- Профиль -->
@if (personInfo && !isLoading()) {
  <mat-card class="profile-card">
    <mat-card-header>
      <mat-card-title>{{ getFullName() }}</mat-card-title>
      @if (getAge()) {
        <mat-card-subtitle>Возраст: {{ getAge() }}</mat-card-subtitle>
      }
    </mat-card-header>

    <mat-card-content class="profile-details">
      <div class="detail-item">
        <strong>Имя:</strong> {{ personInfo.firstName }}
      </div>
      <div class="detail-item">
        <strong>Фамилия:</strong> {{ personInfo.lastName }}
      </div>
      @if (personInfo.middleName) {
        <div class="detail-item">
          <strong>Отчество:</strong> {{ personInfo.middleName }}
        </div>
      }
      <div class="detail-item">
        <strong>Дата рождения:</strong> {{ formatDate(personInfo.birthDate) }}
      </div>
      @if (personInfo.birthPlace) {
        <div class="detail-item">
          <strong>Место рождения:</strong> {{ personInfo.birthPlace }}
        </div>
      }
      @if (personInfo.snils) {
        <div class="detail-item">
          <strong>СНИЛС:</strong> {{ personInfo.snils }}
        </div>
      }
    </mat-card-content>
  </mat-card>
}
